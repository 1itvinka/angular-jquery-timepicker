angular.module("ui.timepicker",[]).value("uiTimepickerConfig",{step:15}).directive("uiTimepicker",["uiTimepickerConfig","$parse","$window",function(a,b,c){var d=c.moment,e=function(a){return void 0!==d&&d.isMoment(a)&&a.isValid()},f=function(a){return angular.isDefined(a)&&null!==a&&(angular.isDate(a)||e(a))};return{restrict:"A",require:"ngModel",scope:{ngModel:"=",baseDate:"=",uiTimepicker:"="},priority:1,link:function(b,c,g,h){"use strict";var i=angular.copy(a),j=i.asMoment||!1;delete i.asMoment,h.$render=function(){var a=h.$modelValue;if(angular.isDefined(a)&&null!==a&&!f(a))throw new Error("ng-Model value must be a Date or Moment object - currently it is a "+typeof a+".");e(a)&&(a=a.toDate()),c.is(":focus")||c.timepicker("setTime",a)},b.$watch(g.ngModel,function(){h.$render()},!0),i.appendTo=c.parent(),c.timepicker(angular.extend(i,b.uiTimepicker?b.uiTimepicker:{}));var k=function(){var a=h.$modelValue?h.$modelValue:b.baseDate;return e(a)?a.toDate():a},l=function(a){return j?d(a):a};c.is("input")?h.$parsers.unshift(function(){var a=c.timepicker("getTime",k());return h.$setValidity("time",null!==a),l(a)}):c.on("changeTime",function(){b.$evalAsync(function(){var a=c.timepicker("getTime",k());h.$setViewValue(a)})})}}}]);